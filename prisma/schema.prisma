// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// ğŸ›’ ç”¢å“è£å‚™è¡¨ (The Armory)
model Product {
  // ID: ä½¿ç”¨ UUID (ä¾‹å¦‚: "PROD_001_A_JKT" æˆ–è‡ªå‹•ç”Ÿæˆçš„äº‚ç¢¼)
  id           String   @id @default(uuid())
  
  // æ ¸å¿ƒæ¬„ä½ (ç”¨ä¾†æœå°‹ã€æ’åºã€ç¯©é¸)
  title        String
  category     String   @default("Uncategorized")
  price        Int      @default(0)
  is_published Boolean  @default(true) // ä¸Šæ¶ç‹€æ…‹
  
  // åœ–ç‰‡ç‰† (å„²å­˜ GCS çš„ç¶²å€é™£åˆ—)
  images       String[] 
  
  // ğŸ“¦ è¤‡é›œè³‡æ–™ (JSONB)ï¼šé€™è£¡å­˜æ”¾ basic_info, rpg_tuning, inventory ç­‰æ‰€æœ‰ç´°ç¯€
  // é€™æ¨£ä½ å°±ä¸ç”¨æ”¹åŸæœ¬çš„å‰ç«¯çµæ§‹ï¼Œç›´æ¥æŠŠæ•´åŒ… JSON å¡é€²ä¾†å³å¯ï¼
  details      Json?

  // æ™‚é–“æˆ³è¨˜
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

// ğŸ›¡ï¸ ä½¿ç”¨è€…/ç®¡ç†å“¡è¡¨ (The Guild Members)
// æœªä¾†åšç™»å…¥é©—è­‰æ™‚æœƒç”¨åˆ°
model User {
  id        String   @id @default(uuid())
  email     String   @unique
  password  String   // åŠ å¯†å¾Œçš„å¯†ç¢¼
  role      Role     @default(USER)
  createdAt DateTime @default(now())
}

enum Role {
  USER
  ADMIN
  MERCHANT
}